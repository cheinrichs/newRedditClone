<div ng-repeat="post in vm.posts">
  {{post}}
</div>

<div ng-init="sortCategory='-votes'"></div>

<div class="row" ng-init="sortCategory='-votes'" ng-repeat="post in vm.posts | filter:cloneSearch | orderBy:sortCategory">
  <div class="post row">
    <img class="thumbnail col-md-2" ng-src="{{post.image}}" alt="">

    <div class="col-md-10">
      <h3>{{post.title}} |
        <span class="glyphicon glyphicon-arrow-up" ng-click="post.votes = post.votes + 1" aria-hidden="true"></span>
        <span class="glyphicon glyphicon-arrow-down" ng-click="post.votes = post.votes - 1" aria-hidden="true"></span>
        <span class="votes" ng-class="{'green':post.votes > 0, 'neutral': post.votes === 0, 'red': post.votes <0}">{{post.votes}}</span>
      </h3>
      <div class="author">By {{post.author}}</div>
      <div class="description">{{post.description}}</div>
      <div class="bottomRow">
        <div class="col-md-3"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> {{post.date | date}}</div>
        <div class="col-md-3" ng-click="post.showComments = !post.showComments"> | <span class="glyphicon glyphicon-comment"aria-hidden="true"></span> {{post.comments.length}} comments</div>
        <div class="col-md-6" ng-click="post.addComment = !post.addComment"> | <span class="glyphicon glyphicon-pencil"aria-hidden="true"></span> Add Comment</div>
      </div>
      <div class="addComment form-group form-inline" ng-show="post.addComment">
        <label for="">Author:</label>
        <input class="form-control" type="text" placeholder="Author" ng-model="post.newCommentAuthor">
        <label for="">Comment:</label>
        <input class="form-control" type="text" placeholder="Comment" ng-model="post.newCommentComment">
        <button ng-click="addComment(post.id)" class="btn btn-default">Add Comment</button>
      </div>
      <div class="comments" ng-show="post.showComments">
        <div class="comment" ng-repeat="post in post.comments">
          <strong>{{post.author}}:</strong> {{post.comment}}
        </div>
      </div>
    </div>
  </div>

</div>
